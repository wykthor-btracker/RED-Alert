(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3681:function(e,n,s){Promise.resolve().then(s.bind(s,8212))},8212:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return z}});var t=s(7437),l=s(7362),r=s(8751),i=s(7140),a=s(681),o=s(5381),c=s(7733),d=s(1706),h=s(6001),x=s(7945),u=s(8064),p=s(2943),j=s(8924),m=s(338),g=s(1423),Z=s(3159),P=s(7928),b=s(7943),f=s(4385),C=s(3555),y=s(9329),S=s(2265),k=s(6715),w=s(140),v=s.n(w);function H(e){let n=(0,k.x)(),[s,h]=(0,S.useState)(50);return(0,S.useEffect)(()=>{n.load(e.source,{autoplay:!1})},[]),(0,S.useEffect)(()=>{n.setVolume(s/100)},[s]),(0,t.jsx)(o.Z,{style:{borderColor:"black",border:"solid 1px black",borderRadius:10,margin:"16px 8px"},span:6,children:(0,t.jsxs)(c.Z,{style:{padding:"16px 8px",borderRadius:10,textAlign:"center",justifyContent:"space-between"},gutter:[16,16],children:[(0,t.jsx)(o.Z,{span:24,children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(o.Z,{children:e.title}),(0,t.jsxs)(o.Z,{span:24,children:[(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(o.Z,{span:20,children:(0,t.jsx)(d.Z,{max:100,min:0,value:s,onChange:h})}),(0,t.jsx)(l.Z,{})]}),(0,t.jsx)(o.Z,{})]})]})}),(0,t.jsx)(o.Z,{span:24,children:(0,t.jsxs)(c.Z,{style:{flex:1},gutter:[8,8],children:[(0,t.jsx)(o.Z,{onClick:n.togglePlayPause,style:{border:"solid 1px grey",borderRadius:10,padding:"5px 0px"},span:12,children:n.playing?(0,t.jsx)(i.Z,{style:{fontSize:25,color:"red"}}):(0,t.jsx)(r.Z,{style:{fontSize:25}})}),(0,t.jsx)(o.Z,{onClick:n.stop,style:{border:"solid 1px grey",borderRadius:10,padding:"5px 0px"},span:12,children:(0,t.jsx)(a.Z,{style:{fontSize:25,color:n.stopped?"black":"red"}})})]})})]})})}function M(e){let n=(0,S.useRef)(null),[s,l]=(0,S.useState)("0"),[r,i]=(0,S.useState)(0),[a,d]=(0,S.useState)({name:e.item.name,stoppingPower:e.item.stoppingPower,stoppingPowerHead:e.item.stoppingPower,stoppingPowerMax:e.item.stoppingPower,stoppingPowerHeadMax:e.item.stoppingPower,currentHealth:e.item.currentHealth,maxHealth:e.item.maxHealth});return(0,S.useEffect)(()=>{e.currentTurn==e.index&&n.current&&n.current.scrollIntoView({behavior:"smooth"})},[e.currentTurn]),(0,t.jsx)(h.Z.Ribbon,{color:"red",text:e.currentTurn==e.index?"Sua vez!":"",children:(0,t.jsx)(x.Z.Item,{ref:n,children:(0,t.jsxs)(c.Z,{style:{padding:"16px 8px",borderRadius:10,border:"1px solid grey",flex:1},children:[(0,t.jsx)(o.Z,{span:24,children:a.name}),(0,t.jsx)(o.Z,{span:12,children:(0,t.jsxs)("span",{children:["HP: ",(0,t.jsx)("span",{style:{fontWeight:"bold"},children:a.currentHealth/a.maxHealth<=.5?a.currentHealth<1?(0,t.jsx)(u.Z,{title:" -4 to all Actions. -6 to MOVE(Min. 1) Death save at start of each turn (Roll 1d10<BODY = success) Critical Injury when damaged. Death Save Penalty +! on hit.",children:"Mortally Wounded!"}):"Seriously Wounded! -2 to all Actions.":null}),(0,t.jsx)(p.Z,{success:{percent:a.currentHealth/(a.maxHealth+r)*100,strokeColor:a.currentHealth/a.maxHealth*100<=50?"red":"green"},showInfo:!1,strokeColor:"purple",percent:0!=r?(a.currentHealth+r/a.maxHealth+r)*100:0})]})}),(0,t.jsx)(o.Z,{span:12,children:(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(o.Z,{span:12,children:["SP Head: ",a.stoppingPowerHead,(0,t.jsx)(p.Z,{showInfo:!1,strokeColor:"orange",percent:a.stoppingPowerHead/a.stoppingPowerHeadMax*100})]}),(0,t.jsxs)(o.Z,{span:12,children:["SP Body: ",a.stoppingPower,(0,t.jsx)(p.Z,{showInfo:!1,strokeColor:"orange",percent:a.stoppingPower/a.stoppingPowerMax*100})]})]})}),(0,t.jsx)(o.Z,{span:24,children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(o.Z,{span:3,children:(0,t.jsx)(j.ZP,{style:{width:100},onClick:function(){var e=Number(s);r>e?i(Math.max(r-Number(s),0)):r==e?i(0):(e-=r,i(0),d({...a,currentHealth:Math.max(a.currentHealth-e,0)}))},children:"Damage"})}),(0,t.jsx)(o.Z,{span:3,children:(0,t.jsx)(j.ZP,{style:{width:100},onClick:function(){d({...a,currentHealth:Math.min(a.currentHealth+Number(s),a.maxHealth)})},children:"Heal"})}),(0,t.jsx)(o.Z,{span:3,children:(0,t.jsx)(j.ZP,{style:{width:100},onClick:function(){i(Number(s))},children:"Shield"})}),(0,t.jsx)(o.Z,{span:3,children:(0,t.jsx)(m.Z,{onChange:e=>l(e.target.value),value:s})}),(0,t.jsx)(o.Z,{span:12,style:{textAlign:"end"},children:(0,t.jsxs)(c.Z,{justify:"end",children:[(0,t.jsxs)(o.Z,{span:12,children:[(0,t.jsx)(j.ZP,{onClick:function(){d({...a,stoppingPowerHead:Math.max(a.stoppingPowerHead-1,0)})},children:"Ablate"}),(0,t.jsx)(j.ZP,{onClick:function(){d({...a,stoppingPowerHead:a.stoppingPowerHeadMax})},children:"Reset SP"})]}),(0,t.jsxs)(o.Z,{span:12,children:[(0,t.jsx)(j.ZP,{onClick:function(){d({...a,stoppingPower:Math.max(a.stoppingPower-1,0)})},children:"Ablate"}),(0,t.jsx)(j.ZP,{onClick:function(){d({...a,stoppingPower:a.stoppingPowerMax})},children:"Reset SP"})]})]})})]})})]})},e.index)})}function I(e){let[n,s]=(0,S.useState)([]),[l,r]=(0,S.useState)(!1),[i,a]=(0,S.useState)(!1),[d,h]=(0,S.useState)(!1),[u,p]=(0,S.useState)(!1),[P,b]=(0,S.useState)(!1),[f,C]=(0,S.useState)(!1),[y,k]=(0,S.useState)(0),[w,v]=(0,S.useState)(!1);function H(e){s([...n,{name:e.name,currentHealth:Number(e.health),maxHealth:Number(e.health),stoppingPower:Number(e.SP),stoppingPowerMax:Number(e.SP)}])}function I(e){return(0,t.jsxs)(c.Z,{align:"middle",style:{margin:10,flex:1},children:[(0,t.jsx)(o.Z,{span:3,children:(0,t.jsx)(g.Z,{checkedChildren:e.switchTitle,unCheckedChildren:e.switchTitle,onChange:e.setToggleOptions,value:e.toggleOptions})}),(0,t.jsx)(o.Z,{span:12,children:(0,t.jsx)(o.Z,{span:24,children:e.toggleOptions?e.children:null})})]})}return(0,t.jsxs)(c.Z,{style:{flexDirection:"column"},children:[(0,t.jsx)(c.Z,{children:(0,t.jsx)(o.Z,{span:24,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Z,{align:"middle",gutter:[16,16],children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(j.ZP,{onClick:()=>{s([])},children:"Clear battle"})}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(g.Z,{onChange:r})}),(0,t.jsx)(o.Z,{children:"Add new combatant"}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(g.Z,{onChange:v})}),(0,t.jsx)(o.Z,{children:"Add preset combatant"}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(j.ZP,{onClick:function(){0==y?k(n.length-1):k(y-1)},children:"Previous Turn"})}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(j.ZP,{onClick:function(){y==n.length-1?k(0):k(y+1)},children:"Next Turn"})})]}),l?(0,t.jsxs)(Z.Z,{name:"basic",layout:"vertical",labelCol:{span:10},wrapperCol:{span:16},style:{maxWidth:600,border:"solid 1px grey",padding:"8px 16px",borderRadius:20},initialValues:{remember:!0},onFinish:e=>{s([...n,{name:e.name,currentHealth:Number(e.health),maxHealth:Number(e.health),stoppingPower:Number(e.SP),stoppingPowerMax:Number(e.SP)}]),console.log("Success:",e)},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,t.jsx)(Z.Z.Item,{label:"Name",name:"name",children:(0,t.jsx)(m.Z,{})}),(0,t.jsx)(Z.Z.Item,{label:"Stopping Power",name:"SP",children:(0,t.jsx)(m.Z,{})}),(0,t.jsx)(Z.Z.Item,{label:"Health",name:"health",children:(0,t.jsx)(m.Z,{})}),(0,t.jsx)(Z.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,t.jsx)(j.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]}):null]})})}),w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{children:(0,t.jsxs)(I,{switchTitle:"Add Mook",toggleOptions:i,setToggleOptions:a,children:[(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"boosterganger",health:"20",SP:"4"})},children:"boosterganger"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"bodyguard",health:"35",SP:"7"})},children:"bodyguard"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"road ganger",health:"25",SP:"4"})},children:"road ganger"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"security operative",health:"30",SP:"7"})},children:"security operative"})]})}),(0,t.jsx)(c.Z,{children:(0,t.jsxs)(I,{switchTitle:"Add Lieutenant",toggleOptions:d,setToggleOptions:h,children:[(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"netrunner",health:"30",SP:"11"})},children:"netrunner"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"reclaimer chief",health:"40",SP:"11"})},children:"reclaimer chief"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"security officer",health:"40",SP:"13"})},children:"security officer"})]})}),(0,t.jsx)(c.Z,{children:(0,t.jsxs)(I,{switchTitle:"Add mini-boss",toggleOptions:u,setToggleOptions:p,children:[(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"outrider",health:"40",SP:"11"})},children:"outrider"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"pyro",health:"40",SP:"11"})},children:"pyro"})]})}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(I,{switchTitle:"Add boss",toggleOptions:P,setToggleOptions:b,children:(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"cyberpsycho",health:"55",SP:"11"})},children:"cyberpsycho"})})}),(0,t.jsx)(c.Z,{children:(0,t.jsxs)(I,{switchTitle:"Add players",toggleOptions:f,setToggleOptions:C,children:[(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"Glamour",health:"35",SP:"11"})},children:"Glamour"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"Kiwi",health:"35",SP:"11"})},children:"Kiwi"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"Loverruk",health:"45",SP:"11"})},children:"Loverruk"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"Paniki",health:"50",SP:"11"})},children:"Paniki"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"MSN",health:"40",SP:"11"})},children:"MSN"}),(0,t.jsx)(j.ZP,{onClick:()=>{H({name:"Cobra",health:"40",SP:"11"})},children:"Cobra"})]})})]}):null,(0,t.jsx)(c.Z,{children:(0,t.jsx)(o.Z,{span:24,style:{overflowY:"scroll",height:600},children:(0,t.jsx)(x.Z,{dataSource:n,renderItem:(e,n)=>(0,t.jsx)(M,{item:e,index:n,currentTurn:y})})})})]})}function T(e){let[n,s]=(0,S.useState)(null),[l,r]=(0,S.useState)(0);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(j.ZP,{onClick:function(){var n=[],l=0,i=0;if(e.number>1){for(let s=0;s<e.number;s++){var a=Math.ceil(100*Math.random())%e.size+1;0==s?n.push((0,t.jsx)("span",{style:{color:a==e.size?"red":"black"},children:a})):n.push((0,t.jsxs)("span",{children:["+",(0,t.jsx)("span",{style:{color:a==e.size?"red":"black"},children:a})]})),a==e.size&&(i+=1),l+=a}r(i),s((0,t.jsxs)("span",{children:[n," = ",l]}))}else{var a=Math.ceil(100*Math.random())%e.size+1;s((0,t.jsx)("span",{children:a}))}},children:["Roll ",e.number,"d",e.size]}),(0,t.jsx)(o.Z,{style:{border:"1px solid grey",textAlign:"center",marginLeft:20,padding:"8px 8px",borderRadius:5},children:n?(0,t.jsxs)("span",{children:[n," ",l>=e.threshold?(0,t.jsx)("span",{style:{fontSize:30,color:"red"},children:"CRIT!!!!"}):null]}):null})]})})}function z(){let[e,n]=P.ZP.useMessage(),[s,l]=(0,S.useState)("Undecided"),[r,i]=(0,S.useState)(""),[a,d]=(0,S.useState)([]),[h,u]=(0,S.useState)(),[p]=v()("map.jpeg"),[g,Z]=(0,S.useState)([]),[k,w]=(0,S.useState)({x:0,y:0,radius:0});(0,S.useEffect)(()=>{a.length>0&&a.map(e=>{var n;if(null==e?void 0:null===(n=e.message)||void 0===n?void 0:n.includes("coords")){console.log(e.message);var[s,t]=e.message.split("coords: ")[1].split(" ");console.log(s,t),Z([...g,{x:s,y:t}])}})},[a]);let M=[{key:"1",label:"Audio",children:(0,t.jsxs)(c.Z,{gutter:16,style:{margin:10},children:[(0,t.jsx)(H,{title:"Calling",source:"/sounds/caller.mp4"}),(0,t.jsx)(H,{title:"Receiving Call",source:"/sounds/call received.mp4"}),(0,t.jsx)(H,{title:"Message sent",source:"/sounds/message sent.mp4"}),(0,t.jsx)(H,{title:"Message received",source:"/sounds/message received.mp4"}),(0,t.jsx)(H,{title:"ICE defeated",source:"/sounds/ICE defeated.mp4"})]})},{key:"2",label:"Initiative",children:(0,t.jsx)(I,{})},{key:"3",label:"Map",children:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z,{style:{flex:1},gutter:[8,8],children:[(0,t.jsxs)(o.Z,{span:6,children:[(0,t.jsx)(b.Z,{children:"X coord: "}),(0,t.jsx)(m.Z,{value:k.x})]}),(0,t.jsxs)(o.Z,{span:6,children:[(0,t.jsx)(b.Z,{children:"Y coord: "}),(0,t.jsx)(m.Z,{value:k.y})]}),(0,t.jsxs)(o.Z,{span:6,children:[(0,t.jsx)(b.Z,{children:"Distance: "}),(0,t.jsx)(m.Z,{value:k.radius})]}),(0,t.jsx)(o.Z,{span:6,style:{alignSelf:"end"},children:(0,t.jsx)(j.ZP,{onClick:()=>{Z([...g,{x:k.x,y:k.y}])},children:"Send"})})]})})},{key:"4",label:"Dice",children:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(c.Z,{children:(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(T,{number:1,size:6,threshold:2}),(0,t.jsx)(T,{number:2,size:6,threshold:2}),(0,t.jsx)(T,{number:3,size:6,threshold:2}),(0,t.jsx)(T,{number:4,size:6,threshold:2}),(0,t.jsx)(T,{number:1,size:10,threshold:1}),(0,t.jsx)(T,{number:2,size:10,threshold:1}),(0,t.jsx)(T,{number:1,size:100,threshold:1})]})})})}];return(0,t.jsxs)(t.Fragment,{children:[n,(0,t.jsx)(f.Z,{defaultActiveKey:"1",items:M,tabBarExtraContent:{right:(0,t.jsx)(c.Z,{children:"Undecided"==s?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(o.Z,{span:24,children:(0,t.jsx)(m.Z,{placeholder:"Host ID",value:r,onChange:e=>i(e.target.value)})}),(0,t.jsx)(o.Z,{span:12,children:(0,t.jsx)(j.ZP,{onClick:()=>{!function(n){let s=new y.ZP;s.on("open",()=>{i(n),l("Client");let t=Math.floor(100*Math.random()%10);var r=s.connect(n,{metadata:{label:"Player ".concat(t),avatar:"https://api.dicebear.com/7.x/miniavs/svg?seed=".concat(t)}});r.on("open",function(){u(r),e.info("Connected!")}),r.on("error",e=>{console.log(e)})})}(r)},children:"Connect to Host"})}),(0,t.jsx)(o.Z,{span:12,children:(0,t.jsx)(j.ZP,{onClick:function(){let n=new y.ZP;n.on("open",s=>{i(s),l("Host"),n.on("connection",n=>{n.on("data",s=>{var t;t={sender:n.metadata.label,message:s,avatar:n.metadata.avatar},a.push(t),console.log(a),d([...a]),e.info(s)})})})},children:"Host"})})]})}):"Client"==s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{children:["Connected to ID: ",r]}),(0,t.jsx)(j.ZP,{onClick:()=>{null==h||h.send("Hello world!")},children:"Ping"})]}):(0,t.jsxs)("span",{children:["ID: ",r]})})}}),(0,t.jsx)(c.Z,{children:(0,t.jsx)(o.Z,{span:24,children:(0,t.jsx)(x.Z,{dataSource:a,renderItem:(e,n)=>(0,t.jsx)(x.Z.Item,{children:(0,t.jsx)(x.Z.Item.Meta,{avatar:(0,t.jsx)(C.C,{src:e.avatar}),title:"Mensagem de ".concat(e.sender),description:e.message})},n),itemLayout:"horizontal"})})})]})}}},function(e){e.O(0,[453,971,23,744],function(){return e(e.s=3681)}),_N_E=e.O()}]);